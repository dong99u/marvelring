module.exports=[38831,a=>{"use strict";let b,c;var d=a.i(87924),e=a.i(38246),f=a.i(71987),g=a.i(72131);let h=a=>"boolean"==typeof a?`${a}`:0===a?"0":a,i=function(){for(var a,b,c=0,d="",e=arguments.length;c<e;c++)(a=arguments[c])&&(b=function a(b){var c,d,e="";if("string"==typeof b||"number"==typeof b)e+=b;else if("object"==typeof b)if(Array.isArray(b)){var f=b.length;for(c=0;c<f;c++)b[c]&&(d=a(b[c]))&&(e&&(e+=" "),e+=d)}else for(d in b)b[d]&&(e&&(e+=" "),e+=d);return e}(a))&&(d&&(d+=" "),d+=b);return d},j=(b="inline-flex items-center justify-center px-3 py-1 text-xs font-bold uppercase tracking-wider transition-all",c={variants:{variant:{new:"bg-gold-muted text-pure-white",sale:"bg-charcoal-deep text-pure-white",exclusive:"bg-primary text-charcoal-deep",default:"bg-boutique-silver text-charcoal-light"},size:{sm:"text-xs px-2 py-0.5",md:"text-xs px-3 py-1",lg:"text-sm px-4 py-1.5"}},defaultVariants:{variant:"default",size:"md"}},a=>{var d;if((null==c?void 0:c.variants)==null)return i(b,null==a?void 0:a.class,null==a?void 0:a.className);let{variants:e,defaultVariants:f}=c,g=Object.keys(e).map(b=>{let c=null==a?void 0:a[b],d=null==f?void 0:f[b];if(null===c)return null;let g=h(c)||h(d);return e[b][g]}),j=a&&Object.entries(a).reduce((a,b)=>{let[c,d]=b;return void 0===d||(a[c]=d),a},{});return i(b,g,null==c||null==(d=c.compoundVariants)?void 0:d.reduce((a,b)=>{let{class:c,className:d,...e}=b;return Object.entries(e).every(a=>{let[b,c]=a;return Array.isArray(c)?c.includes({...f,...j}[b]):({...f,...j})[b]===c})?[...a,c,d]:a},[]),null==a?void 0:a.class,null==a?void 0:a.className)}),k=(0,g.forwardRef)(({className:a,variant:b,size:c,...e},f)=>(0,d.jsx)("span",{ref:f,className:j({variant:b,size:c,className:a}),...e}));function l({createdAt:a,isSale:b,className:c=""}){let e,f,g=(e=new Date(a),(f=new Date).setDate(f.getDate()-30),e>=f);return g||b?(0,d.jsxs)("div",{className:`flex gap-2 ${c}`,children:[g&&(0,d.jsx)(k,{variant:"new",size:"sm",children:"NEW"}),b&&(0,d.jsx)(k,{variant:"sale",size:"sm",children:"SALE"})]}):null}function m({price:a,isLoggedIn:b,isApproved:c,isSale:e=!1,originalPrice:f}){return b&&c&&null!==a?(0,d.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[e&&f&&f!==a&&(0,d.jsxs)("p",{className:"text-[13px] text-gray-400 line-through",children:["₩",f.toLocaleString()]}),(0,d.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,d.jsx)("span",{className:"text-[14px] text-charcoal-light/70 font-medium",children:"가격"}),(0,d.jsxs)("span",{className:"text-[16px] font-bold text-charcoal-light",children:["₩",a.toLocaleString()]})]})]}):(0,d.jsx)("div",{className:"flex flex-col items-center gap-1",children:(0,d.jsx)("p",{className:"text-[14px] text-gray-500 italic",children:"가격은 로그인 후 확인하실 수 있습니다"})})}k.displayName="Badge";var n=a.i(32636);function o({product:a}){let{user:b,member:c}=(0,n.useAuth)(),g=c?.approval_status==="APPROVED";return(0,d.jsxs)(e.default,{href:`/products/${a.id}`,className:"group flex flex-col bg-white border border-card-border p-3 md:p-4 hover:shadow-lg transition-all duration-300 min-h-[300px]",children:[(0,d.jsxs)("div",{className:"relative w-full aspect-square bg-marble-grey mb-4 md:mb-6 overflow-hidden",children:[a.main_image_url?(0,d.jsx)(f.default,{src:a.main_image_url,alt:a.product_name,fill:!0,className:"object-cover transform group-hover:scale-105 transition-transform duration-500",sizes:"(max-width: 640px) 50vw, (max-width: 1024px) 33vw, 25vw"}):(0,d.jsx)("div",{className:"w-full h-full flex items-center justify-center text-charcoal-light/20 text-sm",children:"No Image"}),(0,d.jsx)("div",{className:"absolute top-2 left-2 md:top-4 md:left-4",children:(0,d.jsx)(l,{createdAt:a.created_at,isSale:a.is_sale})})]}),(0,d.jsxs)("div",{className:"text-center flex-1 flex flex-col justify-center",children:[(0,d.jsx)("h3",{className:"text-base md:text-lg font-bold text-charcoal-light mb-1 md:mb-2 line-clamp-2",children:a.product_name}),(0,d.jsxs)("p",{className:"text-xs md:text-sm text-gray-400 font-light tracking-wide mb-2 md:mb-3",children:["REF. ",a.product_code]}),(0,d.jsx)(m,{price:a.price,isLoggedIn:!!b,isApproved:g,isSale:a.is_sale})]})]})}a.s(["default",()=>o],38831)},47069,a=>{"use strict";var b=a.i(87924),c=a.i(50944);let d=[{value:"all",label:"전체보기"},{value:"ring",label:"반지"},{value:"necklace",label:"목걸이"},{value:"earring",label:"귀걸이"},{value:"bracelet",label:"팔찌"}],e=[{value:"yellow_gold",label:"옐로우 골드"},{value:"white_gold",label:"화이트 골드"},{value:"rose_gold",label:"로즈 골드"}];function f(){let a=(0,c.useRouter)(),f=(0,c.useSearchParams)(),g=f.get("categories")?.split(",")||["all"],h=f.get("materials")?.split(",")||[];return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"mb-10",children:[(0,b.jsx)("h3",{className:"text-sm font-bold tracking-widest text-charcoal-light mb-6",children:"카테고리"}),(0,b.jsx)("div",{className:"space-y-3",children:d.map(c=>(0,b.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[(0,b.jsx)("input",{type:"checkbox",checked:g.includes(c.value),onChange:()=>{var b;let d,e;return b=c.value,d=new URLSearchParams(f.toString()),e=[...g],void("all"===b?e=["all"]:((e=e.filter(a=>"all"!==a)).includes(b)?e=e.filter(a=>a!==b):e.push(b),0===e.length&&(e=["all"])),d.set("categories",e.join(",")),a.push(`?${d.toString()}`))},className:"form-checkbox h-4 w-4 text-gold-muted border-gray-300 rounded-none focus:ring-gold-muted/50"}),(0,b.jsx)("span",{className:"text-sm text-charcoal-light/70 group-hover:text-gold-muted transition-colors",children:c.label})]},c.value))})]}),(0,b.jsxs)("div",{className:"mb-10",children:[(0,b.jsx)("h3",{className:"text-sm font-bold tracking-widest text-charcoal-light mb-6",children:"소재"}),(0,b.jsx)("div",{className:"space-y-3",children:e.map(c=>(0,b.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[(0,b.jsx)("input",{type:"checkbox",checked:h.includes(c.value),onChange:()=>{var b;let d,e;return b=c.value,d=new URLSearchParams(f.toString()),void((e=[...h]).includes(b)?e=e.filter(a=>a!==b):e.push(b),0===e.length?d.delete("materials"):d.set("materials",e.join(",")),a.push(`?${d.toString()}`))},className:"form-checkbox h-4 w-4 text-gold-muted border-gray-300 rounded-none focus:ring-gold-muted/50"}),(0,b.jsx)("span",{className:"text-sm text-charcoal-light/70 group-hover:text-gold-muted transition-colors",children:c.label})]},c.value))})]})]})}a.s(["default",()=>f])},10450,a=>{"use strict";var b=a.i(87924),c=a.i(50944);function d(){let a=(0,c.useRouter)(),d=(0,c.useSearchParams)(),e=d.get("sort")||"latest";return(0,b.jsxs)("div",{className:"mb-10",children:[(0,b.jsx)("h3",{className:"text-sm font-bold tracking-widest text-charcoal-light mb-4",children:"정렬 기준"}),(0,b.jsx)("div",{className:"relative",children:(0,b.jsxs)("select",{value:e,onChange:b=>{var c;let e;return c=b.target.value,void((e=new URLSearchParams(d.toString())).set("sort",c),a.push(`?${e.toString()}`))},className:"w-full border-b border-gray-200 border-t-0 border-x-0 bg-transparent py-2 pl-0 pr-8 text-sm text-charcoal-light focus:border-gold-muted focus:ring-0 cursor-pointer",children:[(0,b.jsx)("option",{value:"latest",children:"최신순"}),(0,b.jsx)("option",{value:"popular",children:"인기순"}),(0,b.jsx)("option",{value:"name",children:"상품명순"})]})})]})}a.s(["default",()=>d])},37271,a=>{"use strict";var b=a.i(87924),c=a.i(70106);let d=(0,c.default)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),e=(0,c.default)("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]);function f({title:a,totalCount:c}){return(0,b.jsxs)("div",{className:"flex justify-between items-end mb-8 border-b border-card-border pb-4",children:[a&&(0,b.jsx)("h2",{className:"text-2xl font-light tracking-tight",children:a}),(0,b.jsxs)("span",{className:"text-sm text-charcoal-light/50",children:["총 ",c,"개의 상품이 있습니다"]}),(0,b.jsxs)("div",{className:"flex gap-2 text-charcoal-light/40",children:[(0,b.jsx)("button",{className:"hover:text-gold-muted cursor-pointer transition-colors",children:(0,b.jsx)(d,{size:20})}),(0,b.jsx)("button",{className:"hover:text-gold-muted cursor-pointer transition-colors",children:(0,b.jsx)(e,{size:20})})]})]})}a.s(["default",()=>f],37271)},97950,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(5050);let e=(0,d.createServerReference)("406b2ef893b0073b2f02a8ceedab3fa172a532a9cf",d.callServer,void 0,d.findSourceMapURL,"getProducts");var f=a.i(38831);function g({products:a}){return(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:a.map(a=>(0,b.jsx)(f.default,{product:a},a.id))})}function h(){return(0,b.jsxs)("div",{className:"flex flex-col bg-white border border-card-border p-4 animate-pulse",children:[(0,b.jsx)("div",{className:"relative w-full aspect-square bg-marble-grey mb-6 overflow-hidden",children:(0,b.jsx)("div",{className:"w-full h-full bg-charcoal-light/10"})}),(0,b.jsxs)("div",{className:"text-center space-y-3",children:[(0,b.jsx)("div",{className:"h-5 bg-charcoal-light/10 rounded mx-auto w-3/4"}),(0,b.jsx)("div",{className:"h-4 bg-charcoal-light/10 rounded mx-auto w-1/2"}),(0,b.jsx)("div",{className:"flex flex-col items-center gap-1",children:(0,b.jsx)("div",{className:"h-4 bg-charcoal-light/10 rounded w-20"})})]})]})}function i({message:a="상품이 없습니다",onRetry:c}){return(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-charcoal-light/40",children:[(0,b.jsx)("p",{className:"text-lg mb-4",children:a}),c&&(0,b.jsx)("button",{onClick:c,className:"px-6 py-2 border border-charcoal-light/20 text-charcoal-light hover:bg-charcoal-light hover:text-white transition-colors",children:"다시 시도"})]})}function j({category:a,isNew:d,isSale:f,sort:j="latest"}){let{products:k,isLoading:l,hasMore:m,error:n,observerTarget:o}=function({category:a,isNew:b,isSale:d,sort:f="latest",pageSize:g=24}){let[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)(0),r=(0,c.useRef)(null),s=(0,c.useCallback)(async()=>{if(!j&&n){k(!0),m(null);try{let c=await e({cursor:p,limit:g,category:a,isNew:b,isSale:d,sort:f});i(a=>[...a,...c.products]),o(c.hasMore),q(c.nextCursor||0)}catch(a){m(a instanceof Error?a:Error("Failed to load products"))}finally{k(!1)}}},[p,n,j,g,a,b,d,f]);return(0,c.useEffect)(()=>{s()},[]),(0,c.useEffect)(()=>{let a=new IntersectionObserver(a=>{a[0].isIntersecting&&n&&!j&&s()},{threshold:.1}),b=r.current;return b&&a.observe(b),()=>{b&&a.unobserve(b)}},[n,j,s]),{products:h,isLoading:j,hasMore:n,loadMore:s,error:l,observerTarget:r}}({category:a,isNew:d,isSale:f,sort:j,pageSize:24});return n?(0,b.jsx)(i,{message:"상품을 불러오는 중 오류가 발생했습니다.",onRetry:()=>window.location.reload()}):0!==k.length||l?(0,b.jsxs)("div",{children:[(0,b.jsx)(g,{products:k}),l&&(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mt-6",children:Array.from({length:4}).map((a,c)=>(0,b.jsx)(h,{},c))}),m&&(0,b.jsx)("div",{ref:o,className:"h-10"})]}):(0,b.jsx)(i,{})}a.s(["default",()=>j],97950)}];

//# sourceMappingURL=src_components_product_4fe6f1a5._.js.map