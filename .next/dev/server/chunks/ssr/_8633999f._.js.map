{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/parkdongkyu/my_project/marvelring/src/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient } from '@supabase/ssr'\nimport { cookies } from 'next/headers'\n\nexport async function createClient() {\n  const cookieStore = await cookies()\n\n  return createServerClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n    {\n      cookies: {\n        getAll() {\n          return cookieStore.getAll()\n        },\n        setAll(cookiesToSet) {\n          try {\n            cookiesToSet.forEach(({ name, value, options }) =>\n              cookieStore.set(name, value, options)\n            )\n          } catch {\n            // The `setAll` method was called from a Server Component.\n            // This can be ignored if you have middleware refreshing\n            // user sessions.\n          }\n        },\n      },\n    }\n  )\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAEO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,0IAAO;IAEjC,OAAO,IAAA,+LAAkB,iRAGvB;QACE,SAAS;YACP;gBACE,OAAO,YAAY,MAAM;YAC3B;YACA,QAAO,YAAY;gBACjB,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAC5C,YAAY,GAAG,CAAC,MAAM,OAAO;gBAEjC,EAAE,OAAM;gBACN,0DAA0D;gBAC1D,wDAAwD;gBACxD,iBAAiB;gBACnB;YACF;QACF;IACF;AAEJ"}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///Users/parkdongkyu/my_project/marvelring/src/app/actions/products.ts"],"sourcesContent":["'use server';\n\nimport { createClient } from '@/lib/supabase/server';\nimport { ProductForDisplay } from '@/types/product';\n\nexport interface GetProductsParams {\n  cursor?: number;\n  limit?: number;\n  category?: string;\n  isNew?: boolean;\n  isSale?: boolean;\n  sort?: 'latest' | 'name';\n}\n\nexport interface GetProductsResult {\n  products: ProductForDisplay[];\n  nextCursor: number | null;\n  hasMore: boolean;\n}\n\nexport async function getProducts({\n  cursor = 0,\n  limit = 24,\n  category,\n  isNew,\n  isSale,\n  sort = 'latest',\n}: GetProductsParams): Promise<GetProductsResult> {\n  const supabase = await createClient();\n\n  let query = supabase.from('product_full_details').select('*');\n\n  // Apply category filter\n  if (category) {\n    query = query.eq('category_slug', category);\n  }\n\n  // Apply new products filter (last 30 days)\n  if (isNew) {\n    const thirtyDaysAgo = new Date();\n    thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);\n    query = query.gte('created_at', thirtyDaysAgo.toISOString());\n  }\n\n  // Apply sale filter\n  if (isSale) {\n    query = query.eq('is_sale', true);\n  }\n\n  // Apply sorting\n  if (sort === 'name') {\n    query = query.order('product_name', { ascending: true });\n  } else {\n    query = query.order('created_at', { ascending: false });\n  }\n\n  // Apply pagination using offset\n  query = query.range(cursor, cursor + limit - 1);\n\n  const { data: products, error } = await query;\n\n  if (error) {\n    console.error('Error fetching products:', error);\n    throw new Error('Failed to fetch products');\n  }\n\n  const hasMore = products?.length === limit;\n  const nextCursor = hasMore ? cursor + limit : null;\n\n  return {\n    products: products || [],\n    nextCursor,\n    hasMore,\n  };\n}\n"],"names":[],"mappings":";;;;;AAEA;;;;AAkBO,eAAe,YAAY,EAChC,SAAS,CAAC,EACV,QAAQ,EAAE,EACV,QAAQ,EACR,KAAK,EACL,MAAM,EACN,OAAO,QAAQ,EACG;IAClB,MAAM,WAAW,MAAM,IAAA,gJAAY;IAEnC,IAAI,QAAQ,SAAS,IAAI,CAAC,wBAAwB,MAAM,CAAC;IAEzD,wBAAwB;IACxB,IAAI,UAAU;QACZ,QAAQ,MAAM,EAAE,CAAC,iBAAiB;IACpC;IAEA,2CAA2C;IAC3C,IAAI,OAAO;QACT,MAAM,gBAAgB,IAAI;QAC1B,cAAc,OAAO,CAAC,cAAc,OAAO,KAAK;QAChD,QAAQ,MAAM,GAAG,CAAC,cAAc,cAAc,WAAW;IAC3D;IAEA,oBAAoB;IACpB,IAAI,QAAQ;QACV,QAAQ,MAAM,EAAE,CAAC,WAAW;IAC9B;IAEA,gBAAgB;IAChB,IAAI,SAAS,QAAQ;QACnB,QAAQ,MAAM,KAAK,CAAC,gBAAgB;YAAE,WAAW;QAAK;IACxD,OAAO;QACL,QAAQ,MAAM,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM;IACvD;IAEA,gCAAgC;IAChC,QAAQ,MAAM,KAAK,CAAC,QAAQ,SAAS,QAAQ;IAE7C,MAAM,EAAE,MAAM,QAAQ,EAAE,KAAK,EAAE,GAAG,MAAM;IAExC,IAAI,OAAO;QACT,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,UAAU,UAAU,WAAW;IACrC,MAAM,aAAa,UAAU,SAAS,QAAQ;IAE9C,OAAO;QACL,UAAU,YAAY,EAAE;QACxB;QACA;IACF;AACF;;;IAtDsB;;AAAA,+OAAA"}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///Users/parkdongkyu/my_project/marvelring/.next-internal/server/app/%28main%29/fashion/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {getProducts as '40e3748f9f91ced1c9b0bf6bf3d3ed2e7bc511e66a'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}}]
}